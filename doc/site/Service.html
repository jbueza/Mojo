<!DOCTYPE html><html><head><title>Mojo: Structural JavaScript Framework: Service Class</title><link href='http://fonts.googleapis.com/css?family=Permanent+Marker' rel='stylesheet' type='text/css'><link href="site.css" rel="stylesheet" type="text/css"><link href="sunburst.css" rel="stylesheet" type="text/css"><h1>Service</h1>

<p>Class representation of a web service call.</p>

<h2>API</h2>

<h3>invoke(params, callback, scope)</h3>

<p>Invokes the service by passing parameters, as well as, a callback with an execution context. The execution context defaults to the method that was originally invoked.</p>

<h3>getName()</h3>

<p>Returns the name of the web service. Example: "GetUser".</p>

<h3>getURI()</h3>

<p>Returns the location of the web service. Example: "/api/user/create".</p>

<h3>getParams()</h3>

<p>Returns the options that were originally set upon creation of the web service.</p>

<h1>Service Locator</h1>

<p>The service locator is a singleton that serves as a registry for your web service calls. This would allows you easily
invoke services at different endpoints without changing service URLs in several different places in the application ( 
<a href="http://java.sun.com/blueprints/corej2eepatterns/Patterns/ServiceLocator.html">Service Locator Pattern from java.sun.com</a> ).</p>

<h2>Basic Usage</h2>

<h3>1. Setup your service registry for your application</h3>

<p><code>
mojo.ServiceLocator.addService(new mojo.Service('GetUsers',     '/users'));
mojo.ServiceLocator.addService(new mojo.Service('AddFollower',  '/user/follow'));
mojo.ServiceLocator.addService(new mojo.Service('UpdateUser', '/user/update'));
mojo.ServiceLocator.addService(new mojo.Service('GetUser',   '/users/${id}', { template: true }));
</code></p>

<h3>2. Invoke your services through a click</h3>

<pre><code>//Super basic example of using the Service Locator
$("#btn-follow-user").click(function(event) {
  mojo.ServiceLocator.getService('AddFollower').invoke({ userId: $(this).data('userId') }, function(err, data) {
    //success!
  });
});
</code></pre></body><script src="highlight.min.js"></script><script>hljs.initHighlighting();</script></html>